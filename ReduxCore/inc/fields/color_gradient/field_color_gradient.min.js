!function(r){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color_gradient=redux.field_objects.color_gradient||{};var t=!0;redux.field_objects.color_gradient.init=function(e){e||(e=r(document).find(".redux-group-tab:visible").find(".redux-container-color_gradient:visible")),r(e).each(function(){var e=r(this),i=e;e.hasClass("redux-field-container")||(i=e.parents(".redux-field-container:first")),i.is(":hidden")||i.hasClass("redux-field-init")&&(i.removeClass("redux-field-init"),void 0===redux.field_objects.pro.gradient_filters&&(t=!1),e.find(".redux-color-init").wpColorPicker({change:function(i,a){r(this).val(a.color.toString()),t&&redux.field_objects.pro.gradient_filters.changeValue(r(this),!0,"color_gradient"),e.find("#"+i.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(e,i){r(this).val(i.color.toString()),t&&redux.field_objects.pro.gradient_filters.changeValue(r(this).parent().find(".redux-color-init"),!0,"color_gradient")}}),e.find(".redux-color").on("keyup",function(){var t=r(this).val(),i=colorValidate(this),a="#"+r(this).attr("id");"transparent"===t?(r(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),e.find(a+"-transparency").attr("checked","checked")):(e.find(a+"-transparency").removeAttr("checked"),i&&i!==r(this).val()&&r(this).val(i))}),e.find(".redux-color").on("blur",function(){var t=r(this).val(),i="#"+r(this).attr("id");"transparent"===t?(r(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),e.find(i+"-transparency").attr("checked","checked")):(colorValidate(this)===t&&0!==t.indexOf("#")&&r(this).val(r(this).data("oldcolor")),e.find(i+"-transparency").removeAttr("checked"))}),e.find(".redux-color").on("keydown",function(){r(this).data("oldkeypress",r(this).val())}),e.find(".color-transparency").on("click",function(){if(r(this).is(":checked"))e.find(".redux-saved-color").val(r("#"+r(this).data("id")).val()),e.find("#"+r(this).data("id")).val("transparent"),e.find("#"+r(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===e.find("#"+r(this).data("id")).val()){var i=r(".redux-saved-color").val();""===i&&(i=r("#"+r(this).data("id")).data("default-color")),e.find("#"+r(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",i),e.find("#"+r(this).data("id")).val(i)}t&&redux.field_objects.pro.gradient_filters.changeValue(r(this),!0,"color_gradient")}))})}}(jQuery);