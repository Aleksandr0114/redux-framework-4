!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color_gradient=redux.field_objects.color_gradient||{},redux.field_objects.color_gradient.init=function(r){r||(r=e(document).find(".redux-group-tab:visible").find(".redux-container-color_gradient:visible")),e(r).each(function(){var r=e(this),t=r;r.hasClass("redux-field-container")||(t=r.parents(".redux-field-container:first")),t.is(":hidden")||t.hasClass("redux-field-init")&&(t.removeClass("redux-field-init"),r.find(".redux-color-init").wpColorPicker({change:function(t,a){e(this).val(a.color.toString()),redux.field_objects.color_gradient.changeValue(e(this),!0),r.find("#"+t.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(r,t){e(this).val(t.color.toString()),redux.field_objects.color_gradient.changeValue(e(this).parent().find(".redux-color-init"),!0)}}),r.find(".redux-color").on("keyup",function(){var t=e(this).val(),a=colorValidate(this),i="#"+e(this).attr("id");"transparent"===t?(e(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),r.find(i+"-transparency").attr("checked","checked")):(r.find(i+"-transparency").removeAttr("checked"),a&&a!==e(this).val()&&e(this).val(a))}),r.find(".redux-color").on("blur",function(){var t=e(this).val(),a="#"+e(this).attr("id");"transparent"===t?(e(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),r.find(a+"-transparency").attr("checked","checked")):(colorValidate(this)===t&&0!==t.indexOf("#")&&e(this).val(e(this).data("oldcolor")),r.find(a+"-transparency").removeAttr("checked"))}),r.find(".redux-color").on("keydown",function(){e(this).data("oldkeypress",e(this).val())}),r.find(".color-transparency").on("click",function(){if(e(this).is(":checked"))r.find(".redux-saved-color").val(e("#"+e(this).data("id")).val()),r.find("#"+e(this).data("id")).val("transparent"),r.find("#"+e(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===r.find("#"+e(this).data("id")).val()){var t=e(".redux-saved-color").val();""===t&&(t=e("#"+e(this).data("id")).data("default-color")),r.find("#"+e(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",t),r.find("#"+e(this).data("id")).val(t)}redux.field_objects.color_gradient.changeValue(e(this),!0)}))})},redux.field_objects.color_gradient.changeValue=function(e,r){var t=e.parents(".redux-container-color_gradient"),a=t.data("id"),i=t.find(".redux-gradient-preview"),n=t.find("#"+a+"-from").val(),d=t.find("#"+a+"-to").val(),o=0,c=0,s=100,l=Math.abs(o-450)%360,u=n+" "+c+"%, "+d+" "+s+"%)",f="",h="";f="linear-gradient("+l+"deg,"+u,h="linear-gradient("+o+"deg,"+u;var g=i.css("display");"none"===g&&i.fadeIn(),i.css("background",f),i.css("background","-moz-"+h),i.css("background","-webkit-"+h),i.css("background","-o-"+h),i.css("background","-ms-"+h),r&&redux_change(e)}}(jQuery);