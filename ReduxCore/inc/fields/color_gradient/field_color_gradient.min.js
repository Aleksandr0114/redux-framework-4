!function(t){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color_gradient=redux.field_objects.color_gradient||{};var e=!0;redux.field_objects.color_gradient.init=function(r){r||(r=t(document).find(".redux-group-tab:visible").find(".redux-container-color_gradient:visible")),t(r).each(function(){var r=t(this),i=r;r.hasClass("redux-field-container")||(i=r.parents(".redux-field-container:first")),i.is(":hidden")||i.hasClass("redux-field-init")&&(i.removeClass("redux-field-init"),void 0===redux.field_objects.pro&&(e=!1),r.find(".redux-color-init").wpColorPicker({change:function(i,a){t(this).val(a.color.toString()),e&&redux.field_objects.color_gradient.changeValue(t(this),!0),r.find("#"+i.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(r,i){t(this).val(i.color.toString()),e&&redux.field_objects.color_gradient.changeValue(t(this).parent().find(".redux-color-init"),!0)}}),r.find(".redux-color").on("keyup",function(){var e=t(this).val(),i=colorValidate(this),a="#"+t(this).attr("id");"transparent"===e?(t(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),r.find(a+"-transparency").attr("checked","checked")):(r.find(a+"-transparency").removeAttr("checked"),i&&i!==t(this).val()&&t(this).val(i))}),r.find(".redux-color").on("blur",function(){var e=t(this).val(),i="#"+t(this).attr("id");"transparent"===e?(t(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),r.find(i+"-transparency").attr("checked","checked")):(colorValidate(this)===e&&0!==e.indexOf("#")&&t(this).val(t(this).data("oldcolor")),r.find(i+"-transparency").removeAttr("checked"))}),r.find(".redux-color").on("keydown",function(){t(this).data("oldkeypress",t(this).val())}),r.find(".color-transparency").on("click",function(){if(t(this).is(":checked"))r.find(".redux-saved-color").val(t("#"+t(this).data("id")).val()),r.find("#"+t(this).data("id")).val("transparent"),r.find("#"+t(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===r.find("#"+t(this).data("id")).val()){var i=t(".redux-saved-color").val();""===i&&(i=t("#"+t(this).data("id")).data("default-color")),r.find("#"+t(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",i),r.find("#"+t(this).data("id")).val(i)}e&&redux.field_objects.pro.color_gradient.changeValue(t(this),!0)}))})}}(jQuery);