!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color_gradient=redux.field_objects.color_gradient||{},redux.field_objects.color_gradient.init=function(t){t||(t=e(document).find(".redux-group-tab:visible").find(".redux-container-color_gradient:visible")),e(t).each(function(){var t=e(this),a=t;t.hasClass("redux-field-container")||(a=t.parents(".redux-field-container:first")),a.is(":hidden")||a.hasClass("redux-field-init")&&(a.removeClass("redux-field-init"),redux.field_objects.color_gradient.sliderInit(t),e(t).find(".redux-gradient-select").on("change",function(a){var r=e(this).val(),i=t.find(".slider-gradient-angle");"linear"===r?i.fadeIn():i.fadeOut(),redux.field_objects.color_gradient.changeValue(e(this),!1)}),t.find(".redux-gradient-select").select2(),t.find(".redux-color-init").wpColorPicker({change:function(a,r){e(this).val(r.color.toString()),redux.field_objects.color_gradient.changeValue(e(this),!0),t.find("#"+a.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(t,a){e(this).val(a.color.toString()),redux.field_objects.color_gradient.changeValue(e(this).parent().find(".redux-color-init"),!0)}}),t.find(".redux-color").on("keyup",function(){var a=e(this).val(),r=colorValidate(this),i="#"+e(this).attr("id");"transparent"===a?(e(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),t.find(i+"-transparency").attr("checked","checked")):(t.find(i+"-transparency").removeAttr("checked"),r&&r!==e(this).val()&&e(this).val(r))}),t.find(".redux-color").on("blur",function(){var a=e(this).val(),r="#"+e(this).attr("id");"transparent"===a?(e(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),t.find(r+"-transparency").attr("checked","checked")):(colorValidate(this)===a&&0!==a.indexOf("#")&&e(this).val(e(this).data("oldcolor")),t.find(r+"-transparency").removeAttr("checked"))}),t.find(".redux-color").on("keydown",function(){e(this).data("oldkeypress",e(this).val())}),t.find(".color-transparency").on("click",function(){if(e(this).is(":checked"))t.find(".redux-saved-color").val(e("#"+e(this).data("id")).val()),t.find("#"+e(this).data("id")).val("transparent"),t.find("#"+e(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===t.find("#"+e(this).data("id")).val()){var a=e(".redux-saved-color").val();""===a&&(a=e("#"+e(this).data("id")).data("default-color")),t.find("#"+e(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",a),t.find("#"+e(this).data("id")).val(a)}redux.field_objects.color_gradient.changeValue(e(this),!0)}))})},redux.field_objects.color_gradient.sliderInit=function(t){t.find(".redux-gradient-slider").each(function(){var t=e(this).data("id"),a=e(this).data("min"),r=e(this).data("max"),i=e(this).data("step"),d=e(this).data("default"),n=e(this).data("label"),o=Boolean(e(this).data("rtl")),l=[a,r],s=e(this).noUiSlider({range:l,start:d,handles:1,step:i,connect:"lower",behaviour:"tap-drag",rtl:o,serialization:{resolution:1},slide:function(){var a,r=e(this).data("id");a=r.indexOf("angle")!==-1?"&deg;":"%",e(this).next("#redux-slider-value-"+t).attr("value",s.val()),e(this).prev("label").html(n+":  <strong>"+s.val()+a+"</strong>"),redux.field_objects.color_gradient.changeValue(e(this),!1)}})})},redux.field_objects.color_gradient.changeValue=function(e,t){var a=e.parents(".redux-container-color_gradient"),r=a.data("id"),i=a.find(".redux-gradient-preview"),d=a.find("#"+r+"-from").val(),n=a.find("#"+r+"-to").val(),o=a.find("#redux-slider-value-"+r+"-from").val(),l=a.find("#redux-slider-value-"+r+"-to").val(),s=a.find("#redux-slider-value-"+r+"-angle").val(),c=a.find(".redux-gradient-select").val(),u=Math.abs(s-450)%360,f=d+" "+o+"%, "+n+" "+l+"%)",h="",g="";"linear"===c?(h="linear-gradient("+u+"deg,"+f,g="linear-gradient("+s+"deg,"+f):(h="radial-gradient(center, ellipse cover,"+f,g="radial-gradient(center, ellipse cover,"+f);var v=i.css("display");"none"===v&&i.fadeIn(),i.css("background",h),i.css("background","-moz-"+g),i.css("background","-webkit-"+g),i.css("background","-o-"+g),i.css("background","-ms-"+g),t&&redux_change(e)}}(jQuery);